<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Tiny Whispers ðŸ«§</title>
<link rel="icon" type="image/png" href="favicon.png">
<style>
  /* ===== ROOT / THEME ===== */
  :root{
    --pink:#ffb6e6;
    --lav:#d9c8ff;
    --bg1:#fff7fb;
    --bg2:#f8f3ff;
    --text:#6b3e85;
    --card:rgba(255,255,255,0.82);
  }
  html,body{height:100%;margin:0;font-family:"Poppins",system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial;}
  body{
    background: linear-gradient(135deg,var(--bg1),var(--bg2));
    display:flex;
    align-items:center;
    justify-content:center;
    padding:28px;
    overflow:hidden;
    color:var(--text);
    -webkit-font-smoothing:antialiased;
  }

  /* ===== dreamy blurred blob lights ===== */
  .blob{
    position:fixed; border-radius:50%; filter:blur(36px); opacity:.18; z-index:1;
  }
  .blob.b1{width:360px;height:360px; left:-8%; top:6%; background:linear-gradient(135deg,var(--pink),var(--lav));}
  .blob.b2{width:280px;height:280px; right:-6%; bottom:8%; background:linear-gradient(135deg,#ffd2f8,#e7dbff); opacity:.14;}

  /* ===== fluff clouds (CSS-only) ===== */
  .cloud{
    position:fixed; z-index:2; pointer-events:none;
    background:linear-gradient(180deg,#ffffff,#fff8fb);
    border-radius:60px; box-shadow:0 10px 30px rgba(230,190,240,0.16); filter:blur(1px);
  }
  .cloud:before,.cloud:after{content:"";position:absolute;background:inherit;border-radius:50%;}
  .cloud.c1{width:220px;height:80px; left:-25%; top:8%; animation:cloudMove 46s linear infinite;}
  .cloud.c1:before{width:84px;height:84px; left:-30px; top:-26px;}
  .cloud.c1:after{width:110px;height:110px; right:-36px; top:-40px;}
  .cloud.c2{width:180px;height:60px; left:-30%; top:60%; animation:cloudMove 52s linear infinite reverse;}
  .cloud.c2:before{width:70px;height:70px; left:-26px; top:-20px;}
  .cloud.c2:after{width:90px;height:90px; right:-30px; top:-30px;}
  @keyframes cloudMove{0%{transform:translateX(0)}100%{transform:translateX(160vw)}}

  /* ===== card ===== */
  .card{
    z-index:10; position:relative;
    width:100%; max-width:560px;
    background:var(--card);
    border-radius:28px;
    padding:30px 28px;
    box-shadow:0 26px 60px rgba(200,140,220,0.12);
    border:1px solid rgba(255,210,240,0.6);
    text-align:center;
    backdrop-filter:blur(8px);
  }

  .mascot{font-size:64px; animation:floaty 3s ease-in-out infinite; margin-bottom:6px;}
  @keyframes floaty{0%{transform:translateY(0)}50%{transform:translateY(-8px)}100%{transform:translateY(0)}}

  h1{margin:6px 0 4px;font-size:30px;letter-spacing:.6px;background:linear-gradient(90deg,#b25bff,#ff8ec4);-webkit-background-clip:text;background-clip:text;color:transparent}
  .lead{margin:0 0 14px;color:#8b66a8}

  /* whisper rotating line */
  #whisperLine{height:18px;font-size:13px;color:#9b79c2;margin-bottom:8px;opacity:0;transition:opacity .35s}

  /* textarea (auto-expand + soft) */
  textarea{
    width:100%;
    min-height:110px;
    max-height:46vh;
    padding:14px 16px;
    border-radius:16px;
    border:2px solid rgba(255,210,235,0.8);
    background:rgba(255,255,255,0.9);
    font-size:15px;
    color:var(--text);
    resize:vertical;
    box-shadow:inset 0 10px 24px rgba(245,200,235,0.08);
    transition:box-shadow .12s, border-color .12s, transform .08s;
  }
  textarea:focus{outline:none;border-color:var(--pink);box-shadow:0 12px 30px rgba(255,140,200,0.18);transform:translateY(-2px);}

  /* typing wiggle on first input */
  .wiggle{animation:wig 220ms ease}
  @keyframes wig{0%{transform:translateY(0)}50%{transform:translateY(-4px)}100%{transform:translateY(0)}}

  /* buttons */
  .row{display:flex;gap:12px;margin-top:12px}
  .btn{
    flex:1;padding:12px 14px;border-radius:14px;border:none;background:linear-gradient(135deg,var(--pink),var(--lav));color:white;font-weight:700;
    cursor:pointer;box-shadow:0 12px 28px rgba(200,120,255,0.2);transition:transform .12s;
  }
  .btn:hover{transform:translateY(-3px)}
  .btn.secondary{background:transparent;color:var(--text);border:2px dashed rgba(200,150,255,0.38);box-shadow:none}

  /* meta + controls */
  .meta{font-size:13px;color:#8b66a8;margin-top:10px;display:flex;align-items:center;justify-content:space-between;gap:8px;flex-wrap:wrap}
  .controls{display:flex;gap:8px;align-items:center}

  .toggle{
    display:inline-flex;align-items:center;gap:8px;background:rgba(255,255,255,0.6);padding:6px 10px;border-radius:999px;border:1px solid rgba(240,220,250,0.6);
    font-size:13px;color:#6d4b8f;
  }

  /* spark trail */
  #spark{position:fixed;font-size:16px;pointer-events:none;z-index:1200;opacity:0;transition:opacity .14s, transform .14s}

  /* rising hearts on submit */
  .heart{position:fixed;pointer-events:none;font-size:18px;z-index:1500;animation:rise linear forwards}
  @keyframes rise{0%{transform:translateY(0) scale(1);opacity:1}100%{transform:translateY(-80vh) scale(1.25);opacity:0}}

  /* responsive tweaks */
  @media (max-width:520px){
    .card{padding:20px;border-radius:20px}
    h1{font-size:22px}
    .mascot{font-size:48px}
  }
</style>
</head>
<body>

  <!-- blobs & clouds -->
  <div class="blob b1"></div>
  <div class="blob b2"></div>

  <div class="cloud c1"></div>
  <div class="cloud c2"></div>

  <!-- main card -->
  <div class="card" role="main" aria-labelledby="title">
    <div class="mascot" id="mascot">ðŸ«§</div>
    <h1 id="title">Tiny Whispers</h1>
    <p class="lead">Soft, sweet & anonymous â€” whisper something tiny âœ¨</p>

    <div id="whisperLine" aria-hidden="true"></div>

    <form id="tinyForm" action="https://formsubmit.co/meriembenachit14@gmail.com" method="POST" autocomplete="off">
      <input type="hidden" name="_captcha" value="false">
      <input type="hidden" name="_template" value="table">
      <input type="hidden" name="_subject" value="ðŸ’Œ New Tiny Whisper">
      <input type="hidden" name="_next" value="https://meriembenachit14.github.io/Tell-Me-Tiny-Things/success.html">
      <input type="text" name="_honey" style="display:none" autocomplete="off">

      <textarea id="message" name="message" placeholder="Write your tiny whisperâ€¦ (no names)"></textarea>

      <div class="row">
        <button class="btn" id="sendBtn" type="submit">Send Whisper ðŸ’Œ</button>
        <button class="btn secondary" id="clearBtn" type="button">Clear</button>
      </div>

      <div class="meta">
        <div>Sent: <strong id="count">0</strong> whispers Â· 100% anonymous</div>
        <div class="controls">
          <label class="toggle">
            <input id="soundToggle" type="checkbox" style="display:none">
            ðŸ”” Sound
          </label>
        </div>
      </div>
    </form>
  </div>

  <div id="spark">âœ¨</div>

<script>
/* ========== Random mascot (emoji) ========== */
const mascots=["ðŸ«§","ðŸŽ€","ðŸ§¸","ðŸ’—","ðŸŒ™","ðŸŒ¸","ðŸ“","âœ¨"];
const mascotEl=document.getElementById('mascot');
mascotEl.innerText = mascots[Math.floor(Math.random()*mascots.length)];

/* ========== rotating whisper prompts ========== */
const whispers=[
  "Tell me a tiny secretâ€¦",
  "Whisper something softâ€¦",
  "Say a small sweet thingâ€¦",
  "A tiny thought youâ€™re holdingâ€¦",
  "Share a little truthâ€¦"
];
let wi=0;
const wEl=document.getElementById('whisperLine');
function rotateWhisper(){
  wEl.style.opacity=0;
  setTimeout(()=>{
    wEl.innerText=whispers[wi];
    wi=(wi+1)%whispers.length;
    wEl.style.opacity=1;
  },320);
}
rotateWhisper();
setInterval(rotateWhisper,3500);

/* ========== autosave + counter ========== */
const txt=document.getElementById('message');
const draftKey='tinyWhisperDraft_v2';
const countKey='tinyWhisperCount_v2';
if(localStorage.getItem(draftKey)) txt.value = localStorage.getItem(draftKey);
txt.addEventListener('input',()=>{
  localStorage.setItem(draftKey, txt.value);
  // typing wiggle on first input
  txt.classList.add('wiggle');
  setTimeout(()=>txt.classList.remove('wiggle'),240);
});
let count = Number(localStorage.getItem(countKey) || 0);
document.getElementById('count').innerText = count;

/* ========== clear button ========== */
document.getElementById('clearBtn').addEventListener('click',()=>{
  txt.value='';
  localStorage.removeItem(draftKey);
  txt.focus();
});

/* ========== spark trail ========== */
const spark=document.getElementById('spark');
let mtimer;
window.addEventListener('mousemove', (ev) => {
  spark.style.left = ev.clientX + 'px';
  spark.style.top = ev.clientY + 'px';
  spark.style.opacity = '0.95';
  clearTimeout(mtimer);
  mtimer = setTimeout(()=> spark.style.opacity = '0', 200);
});

/* ========== rising hearts on submit (sequence) ========== */
function spawnHeart(){
  const h = document.createElement('div');
  h.className='heart';
  h.innerText='ðŸ’—';
  h.style.left = (8 + Math.random()*84) + 'vw';
  h.style.fontSize = (14 + Math.random()*18) + 'px';
  h.style.animationDuration = (4200 + Math.random()*3000) + 'ms';
  document.body.appendChild(h);
  setTimeout(()=> h.remove(), 9000);
}

/* ========== soft bell sound (optional) ========== */
let soundEnabled = (localStorage.getItem('tinyWhisperSound') === '1');
const soundToggle = document.getElementById('soundToggle');
soundToggle.checked = soundEnabled;
document.querySelector('.toggle').addEventListener('click', ()=>{
  soundEnabled = !soundEnabled;
  soundToggle.checked = soundEnabled;
  localStorage.setItem('tinyWhisperSound', soundEnabled ? '1' : '0');
});

/* build a tiny soft bell (data URL) */
const bellDataUrl = "data:audio/wav;base64,UklGRmQAAABXQVZFZm10IBAAAAABAAEAESsAACJWAAACABAAZGF0YQAAAAA="; // tiny silent placeholder (safe short beep can be injected if desired)

/* ========== submit interception to show hearts & sound then redirect ====== */
const form = document.getElementById('tinyForm');
form.addEventListener('submit', (e) => {
  // if message empty, allow normal submission (FormSubmit will handle), but we still show small feedback
  e.preventDefault();
  // play sound if enabled
  if(soundEnabled){
    const a = new Audio(bellDataUrl);
    try{ a.play(); }catch(err){}
  }
  // show quick hearts (0.9s)
  for(let i=0;i<8;i++){ setTimeout(spawnHeart, i*90 + Math.random()*80); }
  // small UX: disable button to prevent double clicks
  document.getElementById('sendBtn')?.setAttribute('disabled','true');
  // after 900ms, actually submit the form (redirects to _next)
  setTimeout(()=> form.submit(), 900);
});

/* ========== auto-expand textarea (soft) ========= */
function autoGrow(el){
  el.style.height = 'auto';
  el.style.height = (el.scrollHeight) + 'px';
}
txt.addEventListener('input', ()=> autoGrow(txt));
window.addEventListener('load', ()=> autoGrow(txt));

/* ========== ensure accessibility: focus textarea on load ===== */
window.addEventListener('load', ()=> txt.focus());
</script>
</body>
</html>
