<!DOCTYPE html>
#counter {
margin-top: 10px;
color: #8c4fd6;
font-size: 14px;
}
</style>
</head>


<body>
<div id="loadingScreen"><div class="loader">ðŸŒ¸ Loading...</div></div>


<div id="heartContainer"></div>


<div class="container">
<div style="font-size:40px">ðŸ’Œ</div>
<h1>Send Me a Secret</h1>
<p>Totally anonymous & pastel cute âœ¨</p>


<textarea id="confession" placeholder="Type your confession..."></textarea>
<button onclick="sendConfession()">Send Anonymously</button>
<div id="counter">Confessions sent: <span id="count">0</span></div>
<div id="successMessage" style="display:none;color:#5bbf5b;margin-top:15px;font-size:16px;">âœ“ Sent!</div>
</div>


<audio id="popSound" src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_f5b67fa9fb.mp3?filename=click-124467.mp3"></audio>
<audio id="sendSound" src="https://cdn.pixabay.com/download/audio/2021/09/20/audio_5b9e319a36.mp3?filename=whoosh-6316.mp3"></audio>


<script>
/* Hearts */
setInterval(() => {
const heart = document.createElement('div');
heart.classList.add('heart');
heart.innerHTML = 'ðŸ’œ';
heart.style.left = Math.random() * 100 + 'vw';
heart.style.fontSize = (20 + Math.random() * 20) + 'px';
document.getElementById('heartContainer').appendChild(heart);
setTimeout(() => heart.remove(), 6000);
}, 500);


/* Auto-save */
const area = document.getElementById('confession');
if(localStorage.getItem('draft')){
area.value = localStorage.getItem('draft');
}
area.addEventListener('input',()=>{
localStorage.setItem('draft', area.value);
});


/* Counter */
let count = localStorage.getItem('sentCount') || 0;
document.getElementById('count').innerText = count;


function sendConfession() {
const text = area.value.trim();
if (!text) return alert('Please type something!');


document.getElementById('popSound').play();


fetch('https://formsubmit.co/meriembenachit14@gmail.com', {
method: 'POST',
headers: { 'Content-Type': 'application/json' },
body: JSON.stringify({ confession: text })
})
.then(() => {
document.getElementById('sendSound').play();


document.getElementById('successMessage').style.display = 'block';
setTimeout(()=>{
document.getElementById('successMessage').style.display = 'none';
},2500);


area.value = '';
localStorage.removeItem('draft');


count++;
localStorage.setItem('sentCount', count);
document.getElementById('count').innerText = count;
});
}
</script>
</body>
</html>
